<div class="session-card" (click)="openModal()">
  <div class="session-date">
    <h3>{{ date | date: 'fullDate' }}</h3>
  </div>
  <div class="players-section">
    <h4>Available Players</h4>
    <ul class="player-list">
      @for (player of availablePlayers; track player) {
        <li>{{ player }}</li>
      }
      @empty {
        <li class="no-players">No players available</li>
      }
    </ul>
  </div>
  <div class="click-hint">Click for details</div>
</div>

@if (showModal) {
  <div class="modal-overlay" (click)="closeModal()">
    <div class="modal-content" (click)="$event.stopPropagation()">
      <button class="close-button" (click)="closeModal()">âœ•</button>
      <app-detailed-session-card
        [date]="date"
        [availablePlayers]="availablePlayers"
        [snacks]="detailedSnacks"
        [carpool]="detailedCarpool"
        [externalAvailability]="detailedExternalAvailability"
        [sessionSynopsis]="sessionSynopsis"
        [secretNotes]="secretNotes"
        [isDM]="isDM">
      </app-detailed-session-card>
    </div>
  </div>
}
