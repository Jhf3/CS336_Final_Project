<div class="session-card" (click)="openModal()">
  <div class="session-date">
    <h3>{{ sessionDate | date: 'fullDate' }}</h3>
    <p class="session-status" [class.confirmed]="session.isConfirmed">{{ session.isConfirmed ? 'Confirmed' : 'Tentative' }}</p>
  </div>
  <div class="players-section">
    <h4>Available Players ({{ session.availableUsers.length }})</h4>
    <div class="session-info">
      <p><strong>Host:</strong> {{ session.hostName }}</p>
      <p><strong>Group:</strong> {{ session.groupName }}</p>
    </div>
  </div>
  <div class="click-hint">Click for details</div>
</div>

@if (showModal) {
  <div class="modal-overlay" (click)="closeModal()">
    <div class="modal-content" (click)="$event.stopPropagation()">
      <button class="close-button" (click)="closeModal()">âœ•</button>
      <app-detailed-session-card
        [session]="session"
        [snacks]="detailedSnacks"
        [carpool]="detailedCarpool"
        [externalAvailability]="detailedExternalAvailability"
        [sessionSynopsis]="sessionSynopsis"
        [secretNotes]="secretNotes"
        [isDM]="isDM"
        [currentUser]="currentUser"
        (sessionUpdated)="onSessionUpdated($event)">
      </app-detailed-session-card>
    </div>
  </div>
}
